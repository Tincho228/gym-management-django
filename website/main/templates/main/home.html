{% extends 'main/base.html' %}

{% block title %}Home{% endblock %}

{% block dashboard %}

<!-- Displaying Hero Section -->
<div id="home-hero-text">
    <img src="/static/main/images/hero.jpg" alt="Fitness Hero Image">
    <div class="hero-content">
        <h1>Gym & Fitness Management App</h1>
        <p>Because fitness is not a lifestyle, it is your health.<br>
            Workout with personalized routines, curated by the best trainers.
        </p>
        {% if user.is_authenticated %}
        <a href="/dashboard" class="custom-hero-button">See Routines</a>
        {% else %}
        <a href="/login" class="custom-hero-button">Join Now</a>
        {% endif %}
    </div>
    
</div>


<!-- Displaying current weather information: -->
{% if weather_data %}
    <div id="home-weather-widget">
        <h3>Current weather in {{ weather_data.city }}</h3>
        <p>Temperature: {{ weather_data.temperature }}Â°C</p>
        <p>Description: {{ weather_data.description }}</p>
        <p>Wind Speed: {{ weather_data.wind_speed }} m/s</p>
        <img src="http://openweathermap.org/img/wn/{{ weather_data.icon }}@2x.png" alt="Weather icon">
    </div>
<!-- If there is an error message, display it -->
{% elif error_message %}
    <p class="error">{{ error_message }}</p>
{% else %}
    <p>No weather data available.</p>
{% endif %}
{% endblock %}

{% block content %}
{% if user.is_authenticated and not user.profile.is_admin %}
    {% if not user.membership %}
    <a id="choose-a-membership-banner" href="/add-membership">Don't have a membership yet? Choose a Membership now</a>
    {% else%}
    <section id="home-routines">
        <h2>Check out your routines</h2>
        <div class="workout-plans">
            <div class="workout-plans">
                <h3>Your Routines</h3>
                {% if routines %}
                <ul>
                    {% for routine in routines %}
                        <li>
                            <strong>{{ routine.name }}</strong><br>
                            {{ routine.description }}<br>
                            Duration: {{ routine.duration_minutes }} minutes
                        </li>
                    {% endfor %}
                </ul>
                {% else %}
                    <p>No routines created yet.</p>
                {% endif %}
            </div>
        </div>
    </section>
    {% endif %}
{% endif %}

<div class="plan-section">
    <h2>Our plans for you!</h2>
    <div class="card-container">
    <div class="card">
        <img src="/static/main/images/yoga-card.jpg" alt="Yoga Class Image">
        <div class="card-overlay">
            <span>Yoga</span>
        </div>
    </div>

    <div class="card">
        <img src="/static/main/images/pilates-card.jpg" alt="Pilates Class Image">
        <div class="card-overlay">
            <span>Pilates</span>
        </div>
    </div>
    
    <div class="card">
        <img src="/static/main/images/functional-card.jpg" alt="Functional Fitness Image">
        <div class="card-overlay">
            <span>Functional</span>
        </div>
    </div>
</div>
</div>

{% endblock %}